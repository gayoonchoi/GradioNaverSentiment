# 🎪 계절별 인기 축제 탐색 기능 통합 완료!

Tour_Trend_WordCloud의 기능을 GradioNaverSentiment 앱에 성공적으로 통합했습니다.

## ✅ 구현 완료 내용

### 📁 새로 추가된 파일

```
GradioNaverSentiment/
├── database/
│   └── festival_trends_summary.csv          # 축제별 트렌드 요약 데이터 (100개 샘플)
├── scripts/
│   ├── collect_all_trends.py                # 전체 축제 트렌드 수집 스크립트
│   ├── collect_sample_100.py                # 샘플 100개 수집 (완료됨)
│   └── test_seasonal_tab.py                 # 기능 테스트 스크립트
├── src/
│   ├── application/
│   │   └── seasonal_analysis.py             # 계절별 분석 로직
│   ├── infrastructure/reporting/
│   │   └── seasonal_wordcloud.py            # 워드클라우드 생성
│   └── presentation/
│       ├── seasonal_tab.py                  # 계절별 탭 UI
│       ├── ui_tabs.py                       # (수정됨: 새 탭 추가)
│       └── gradio_ui.py                     # (수정됨: 새 탭 통합)
```

### 🎯 주요 기능

1. **계절별 축제 분류** (봄, 여름, 가을, 겨울)
2. **워드클라우드 시각화** - 검색량 기반
3. **타임라인 그래프** - 상위 10개 축제 기간 및 검색량
4. **상세 테이블** - 순위, 검색량, 행사 기간
5. **축제 개별 트렌드 분석** - 선택한 축제의 트렌드 그래프 표시
6. **단일 키워드 분석 연동** - 더 깊은 분석으로 유도

---

## 🚀 사용 방법

### 1. 앱 실행

```bash
cd C:\Users\SBA\github\GradioNaverSentiment
python app_llm.py
```

### 2. "계절별 인기 축제 탐색" 탭 사용

#### STEP 1: 계절 선택
- 라디오 버튼에서 분석할 계절 선택 (봄, 여름, 가을, 겨울)
- "분석 시작" 버튼 클릭

#### STEP 2: 분석 결과 확인
- **워드클라우드**: 검색량이 높을수록 크게 표시
- **타임라인 그래프**: 상위 10개 축제의 기간과 검색량
- **테이블**: 순위, 축제명, 검색량 등 상세 정보

#### STEP 3: 흥미로운 축제 심층 분석
- 드롭다운에서 축제 선택
- "이 축제 트렌드 보기" 버튼 클릭
- 트렌드 그래프 확인
- **더 자세한 분석**: "단일 키워드 분석" 탭으로 이동하여 축제명 검색
  → 블로그 감성 분석, LLM 요약, 워드클라우드 등 모든 기능 활용

---

## 📊 데이터 수집

### 현재 상태
✅ **샘플 100개 축제 데이터** 수집 완료
- 봄: 25개
- 여름: 25개
- 가을: 38개
- 겨울: 12개

### 전체 데이터 수집 (1,377개)

시간이 충분하다면 전체 축제 데이터를 수집하여 더 풍부한 분석이 가능합니다:

```bash
cd C:\Users\SBA\github\GradioNaverSentiment
python scripts/collect_all_trends.py
```

**⚠️ 주의**:
- 약 **1-2시간** 소요 (API 호출 제한)
- 중간 저장 기능 포함 (100개마다 자동 저장)
- 이어서 수집 가능 (중단되어도 재실행 시 이어서 진행)

---

## 🎨 계절별 색상 팔레트

Tour_Trend_WordCloud와 동일한 색상 적용:

- **봄**: 핑크, 연핑크, 청록, 연두 (#FF3F33, #FFB5A7, #FFE6E1, #075B5E, #9FC87E)
- **여름**: 파랑, 하늘색, 노랑 (#799EFF, #A7E9FF, #FEFFC4, #FFDE63, #FFBC4C)
- **가을**: 검정, 갈색, 주황 (#0C0C0C, #63372C, #481E14, #9B3922, #F2613F)
- **겨울**: 검정, 파랑 계열 (#000000, #0B60B0, #2081C3, #40A2D8, #F0EDCF)

---

## 🔧 기술 스택

- **UI**: Gradio
- **데이터 분석**: Pandas, Numpy
- **시각화**: Matplotlib, WordCloud
- **API**: 네이버 트렌드 API, 한국관광공사 TourAPI
- **폰트**: 맑은 고딕 (Windows)

---

## 💡 사용 시나리오 예시

### 시나리오 1: "가을 축제 추천받기"

1. "계절별 인기 축제 탐색" 탭 클릭
2. **가을** 선택 → 분석 시작
3. 워드클라우드에서 **"지리산남원정령제"**가 크게 보임
4. 테이블 확인: 최대 검색량 100, 10월 개최
5. 드롭다운에서 "지리산남원정령제" 선택 → 트렌드 보기
6. 트렌드 그래프로 인기 시기 확인
7. **더 알고 싶다면**: "단일 키워드 분석" 탭으로 이동
8. "지리산남원정령제" 검색 → 블로그 감성 분석, 워드클라우드 확인

### 시나리오 2: "여름 축제 비교"

1. 여름 시즌 분석
2. 상위 10개 확인: "보령 머드축제", "대구 치맥축제" 등
3. 각각 트렌드 확인
4. "카테고리별 축제 비교 분석" 탭에서 두 축제 심층 비교

---

## 🐛 문제 해결

### 문제 1: "트렌드 데이터 파일을 찾을 수 없습니다"
```bash
python scripts/collect_sample_100.py
```
먼저 샘플 데이터를 수집해주세요.

### 문제 2: 워드클라우드 한글 깨짐
- `C:\Windows\Fonts\malgun.ttf` 경로 확인
- 없다면 `src/infrastructure/reporting/seasonal_wordcloud.py`의 `FONT_PATH` 수정

### 문제 3: API 오류 (401, 403)
- `src/config.py`에서 네이버 API 키 확인
- 또는 환경변수 `NAVER_TREND_CLIENT_ID`, `NAVER_TREND_CLIENT_SECRET` 설정

---

## 📈 향후 개선 가능 사항

1. **마스크 이미지 추가** (선택사항)
   - Tour_Trend_WordCloud의 마스크 이미지 (꽃, 별, 낙엽, 선물상자) 복사
   - `assets/masks/` 디렉토리에 배치
   - 워드클라우드가 도형 모양으로 표시됨

2. **실시간 데이터 갱신**
   - 주기적으로 `collect_all_trends.py` 실행하여 최신 트렌드 반영

3. **필터 기능 추가**
   - 지역별 필터
   - 축제 유형별 필터

4. **탭 간 자동 이동** (Gradio 제약으로 현재 미구현)
   - 선택한 축제를 "단일 키워드 분석" 탭에 자동 입력

---

## ✨ 완료 체크리스트

- [x] Phase 1: 트렌드 데이터 수집 스크립트 작성
- [x] Phase 1: 샘플 데이터 100개 수집
- [x] Phase 2: 워드클라우드 생성 모듈 작성
- [x] Phase 2: 계절별 분석 로직 작성
- [x] Phase 3: 계절별 탭 UI 작성
- [x] Phase 3: 메인 UI에 통합
- [x] Phase 4: 축제 개별 트렌드 분석 기능
- [x] 테스트 및 검증

---

## 🎉 결론

Tour_Trend_WordCloud의 핵심 기능인 **계절별 인기 축제 탐색**이 GradioNaverSentiment 앱에 성공적으로 통합되었습니다!

사용자는 이제:
1. 계절별 인기 축제를 한눈에 파악 (워드클라우드)
2. 상위 축제의 트렌드 확인 (타임라인 + 그래프)
3. 흥미로운 축제 발견 → 심층 분석으로 자연스럽게 연결

이 흐름을 통해 사용자 경험이 크게 향상됩니다! 🚀

---

**제작**: Claude Code
**날짜**: 2025-11-14
**기반**: Tour_Trend_WordCloud + GradioNaverSentiment
