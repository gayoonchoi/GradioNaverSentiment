## TourAPI 기반 축제 후기 감성 분석을 통한 행사 주최 가이드 서비스

| 항목 | 내용 |
| :--- | :--- |
| **레시피명** | TourAPI 기반 축제 후기 감성 분석을 통한 행사 주최 가이드 서비스 |
| **등록일** | 2025.10.04 |
| **상태** | 등록 요청 |
| **게시물 URL** | `kdata.or.kr/portal/data-recipe/search/detail/2945` |

### 1. 레시피 분류 정보

| 구분 | 내용 |
| :--- | :--- |
| **활용목적** | 서비스 개발 |
| **기업소재지** | 서울특별시 |
| **업종** | 사업시설 관리, 사업 지원 및 임대 서비스업 > 사업 지원 서비스업 > 여행사 및 기타 여행 보조 서비스업 > 여행사업 |
| **기업유형** | 지방자치단체 |
| **분야** | 스마트산업 |
| **사업수행년도** | 2025 |

### 2. 레시피 개요 (사업 과제 및 배경)

**(분석 배경)**
국내 관광산업은 지역 균형 발전과 지역경제 활성화를 위한 핵심 산업으로 주목받고 있으나, 여전히 축제·행사 기획 및 평가가 정성적 판단과 정량 통계에 의존하고 있다. 특히 지자체와 관광공사는 연간 수백 건의 행사를 주관함에도, 행사 유형별 만족도-참여율-관심도의 정성적 지표를 객관적으로 평가할 수 있는 체계가 부재하다.

최근 코로나19 이후 여행 수요가 회복되며, 시즌별·지역별 관광 트렌드의 이원화가 두드러지고 있다. SNS 후기, 검색 트렌드, 온라인 커뮤니티 등 비정형 데이터가 주요 의사결정 근거로 부상함에 따라, 단순 방문객 수 통계만으로는 지역 관광의 성과를 판단하기 어렵다. 이에 정부는 ‘K-지역관광 신도 패키지’, ‘AI 관광데이터 고도화 사업’ 등 데이터를 활용한 관광정책을 확대하고 있으며, 지자체 역시 데이터 기반 의사결정 체계 구축을 요구받고 있다.

**(과제 개요)**
본 과제의 목적은 **TourAPI(축제 정보), TrendAPI(검색량), 네이버 블로그 후기(텍스트 데이터)**를 융합하여 지역·시즌별 축제 및 행사에 대한 감정과 관심도의 정량적 변화를 분석하는 것이다. 이를 통해 지역 관광 활성화와 마케팅 전략 수립에 활용 가능한 **AI 기반 데이터 분석 레시피**를 구축하고자 한다.

이러한 상황에서 본 연구는 TourAPI, TrendAPI, 네이버 블로그 후기 데이터를 결합하여 지역·시즌별 축제에 대한 감정 및 관심도 분석을 수행함으로써, 객관적이고 반복 가능한 관광 데이터 분석 레시피를 제시하고자 한다. 본 분석은 향후 지역별 축제 기획의 효율성 제고, 예산 배분의 합리화, 정책적 의사결정의 데이터 기반화에 기여할 것으로 기대된다.

### 3. 데이터 및 분석 필요성

관광 분야의 기존 데이터는 주로 방문객 수, 매출액, 숙박 통계 등 정량적 지표 중심으로 구축되어 있어, 이용자 경험이나 감정 변화와 같은 정성적 가치 판단 요소를 반영하기 어렵다. 또한, 현행 관광통계포털(TourAPI)의 데이터는 구조적으로 풍부하나, 실시간 관심도나 후기 감정 분석과 같은 비정형 정보의 통합 분석 체계가 부재하다.

이러한 문제를 해결하기 위해 본 연구에서는 세 가지 데이터 소스를 결합한다.
1.  **TourAPI:** 전국 단위 축제 및 행사 데이터를 수집하여 지역, 기간, 테마, 개최 규모 등 메타 정보를 구축
2.  **TrendAPI:** 키워드별 검색량 변화를 기반으로 행사 전후의 관심도 변동을 시계열로 분석
3.  **네이버 블로그 후기 데이터:** 실제 참여자의 후기 텍스트를 크롤링하여 지역 기반 감성 분석을 수행

### 4. 데이터 분석 프로세스 및 시스템 구성

#### 4-1. 데이터 분석 프로세스
1.  **데이터 수집 및 정제**
    * 한국관광공사 TourAPI 4.0을 활용하여 축제명, 기간, 위치 데이터를 확보한다.
    * 해당 축제명을 검색어로 설정하여 Naver Open API를 통해 블로그 후기 원문, 작성일, 링크, 검색량 정보를 수집한다.
2.  **전처리 및 통합**
    * 중복 제거, 짧은 문장 필터링, 텍스트 정규화(HTML 태그, 이모티콘 제거)를 수행한다.
    * 축제 정보(TourAPI)와 후기 데이터(Naver)를 '축제명' 기준으로 매핑하여 통합 CSV 파일을 생성한다.

#### 4-2. 데이터 수집 및 구성 (흐름도)
* **데이터 수집**
    * TourAPI (한국관광공사)
    * TrendAPI (네이버 트렌드)
    * Naver Blog API (오픈API + 크롤링)
    * 사전 데이터 (Knowledge eBase - CSV)
* **전처리 및 정제 (LangGraph 기반)**
    1.  Naver Blog API: 문서에서 인사말/광고 문장 자동 제거
    2.  SimpleScorer: 규칙 기반 감성 분석(긍/부정 판단) 및 사전 매핑
    3.  LangGraph Agents: 감정 사전(어휘) -> 점수 누적 -> 문장 어조(긍정/부정)가 연결된 단어/어근 배율 적용
* **감성 분석, 동적 로직 구현**
    1.  Knowledge Base: 새 표현이 등장하면 LLM이 점수를 추론해 CSV에 직접 append
    2.  SimpleScorer: 핵심 단어에 수식어 관계를 기반으로 문장 점수 계산 + LLM 동적 학습
    3.  LangGraph Agents: Agent LLM Summarizer (LLM이 블로그 요약 및 감성 관련 스코어링)
    4.  Agent Rule Scorer: Rule 기반 점수 계산 후 불일치 감지
    5.  Feedback Loop: 점수 불일치 발생 시 LLM에게 피드백 전달 -> 최대 3회 재요약
* **결과 및 시각화**
    1.  시각화: 긍/부정 비율 Bar Chart, 시즌별 감성 Word Cloud, 불만 요인 LLM 요약
    2.  Gradio UI: 검색 입력 → 분석 시작 → 결과 표/차트/원문 블로그(긍/부정/중립 문장 수) 노출

---

### 5. 분석 모델 및 알고리즘

* **분석 모델:** 텍스트 분석
* **알고리즘:** 감성어 추출
* **상세 설명:**
    * 형태소 분석을 통해 주요 명사, 형용사, 감성 단어를 추출하고, 감성 사전을 기반으로 긍정/부정 점수를 부여하여 축제 종류별 평균 감성지수를 계산한다.
    * 문장에서 긍정, 부정과 같은 감성어를 추출해 텍스트의 감성 분포를 파악한다.
    * 문장의 단어와 구문 패턴을 분석하여 감성 사전을 기반으로 긍정적, 부정적 단어를 구분하고 이를 수치화한다.
    * **참고:** 소셜 미디어 분석과 고객 피드백 처리에 유용하며 빠른 감성 흐름 파악이 가능하나, 다의어와 문맥에 따라 정책 정확도가 떨어질 수 있다.

---

### 6. 활용 데이터 테이블 정의

#### 6-1. 데이터명: `FestInsight_Analysis_Table`

| columnName | dataType | description | source | example |
| :--- | :--- | :--- | :--- | :--- |
| `addr1` | object | 축제 기본 주소 | TourAPI | '서울특별시 송파구...' |
| `addr2` | object | 축제 상세 주소 | TourAPI | '올림픽로...' |
| `areaCode` | float | 지역 식별 코드 | TourAPI | 1 |
| `eventStartDate` | date | 축제 시작일 | TourAPI | 20250... |
| `eventEndDate` | date | 축제 종료일 | TourAPI | 20250... |
| `eventPeriod` | int | 축제 기간(일수) | (Calculated) | 3 |
| `trend_index` | float | 전-중-후 30일 기준 검색량 변화 추세 | TrendAPI | 0.73 |
| `sentiment_score` | float | 축제별 긍정/부정 종합 감성 점수 | LLM Summarizer | 0.64 |
| `positive_ratio` | float | 후기 내 긍정 문장 비율 | LLM Summarizer | 0.82 |
| `negative_ratio` | float | 후기 내 부정 문장 비율 | LLM Summarizer | 0.18 |
| `complaint_factor` | str | 후기 내 불만 키워드 자동 추출 | LLM Summary Agent | '주차, ㄷ...' |
| `satisfaction_delta` | float | Trend 대비 후기 감성 증감 비율 | Sentiment Flow Analysis | 0.21 |
| `theme_sentiment_avg` | float | 축제 테마별 긍정/부정 평균 점수 | Rule-based Aggregator | 0.74 |
| `emotion_keyword_freq` | int | 감성어(형용사-명사) 빈도 | WordCloud Generator | 55 |

#### 6-2. 데이터 템플릿 (컬럼별 상세)

| cautionNote (주의사항) | dataFeature (데이터 특징) | columnName | usagePurpose (활용 목적) |
| :--- | :--- | :--- | :--- |
| 주소 표기 불규칙(공백,특수문자) 정제 필요 | 문자열형 주소 데이터 | `addr1 / addr2` | 지역 기반 필터링, 지도 시각화 |
| NaN 값 존재 가능, 코드 매핑 필요 | 숫자형 지역 코드 | `areaCode` | 행정구역별 집계 |
| 시작일/종료일 누락 시 계산 불가 | 정수형 | `eventPeriod` | 축제 지속기간 산출 |
| TrendAPI 호출 주기 유지 필요 | 시계열 기반 비율 | `trend_index` | 검색량 추세 분석(Line Chart) |
| 모델 버전에 따른 점수 변동 주의 | 실수형 (0~1) | `sentiment_score` | 축제별 감성 비교 |
| 키워드 중복-불용어 제거 필요 | 문자열 리스트 | `complaint_factor` | 부정 요인 분류 및 개선 인사이트 도출 |
| 극단값(outlier) 영향 고려 | 실수형 (증감률) | `satisfaction_delta` | 관심도 대비 만족도 평가 |
| 축제 분류 기준 일관성 유지 | 실수형 평균값 | `theme_sentiment_avg` | 축제 테마별 감성 비교 |
| 감성어 형태소 분석기(Okt) 기반이므로 오탈자 영향 있음 | 정수형 빈도수 | `emotion_keyword_freq` | 계절별 인기 축제 시각화(WordCloud) |

---

### 7. 감정 분석 결과, 시각화 및 예측

#### 7-1. 시각화 및 예측 요약
* **Donut Chart:** 축제별 감성 분포(긍/부정 비율)를 표현하여 음식, 문화, 체험 등 행사 유형에 따른 전반적 만족 경향을 파악.
* **Line Chart:** TrendAPI의 관심도 데이터와 후기 작성 시점을 결합하여 개최 시점별(Pre/During/Post) 관심도 변화 및 사용자 반응 집중 시기 분석.
* **Word Cloud:** 사계절 시즌별 후기 데이터를 시각화하여 검색 인기가 많았던 주요 축제 도출.
* **LLM 기반 불만 요인 자동 추출:** 후기 내 부정 문장을 식별하고, "주차 불편", "대기 시간", "시설 부족" 등 주요 불만 요인을 요약하여 개선 인사이트 제시.

#### 7-2. 분석결과 예시 1: 체험·놀이 종합 분석
* **종합:** '체험·놀이' 카테고리(산업·지식 > 기술산업 > 체험·놀이) 4개 축제(수원화성 비밀, K-핸드메이드페어, 국제명상대전, 제주올레길축전) 분석 결과, **전체 긍정 64.9%, 부정 35.1%**로 긍정 여론이 2/3에 가까움.
* **개별:**
    * '국제명상대전'(81.8%)과 '제주올레길축전'(72.7%)은 긍정 평가가 상위권.
    * '수원화성의 비밀'(47.6%)은 긍정 비율이 50% 미만으로 만족도가 현저히 낮음. '과도한 신체적 피로감', '난이도 조절 실패' 등의 부정적 피드백이 확인됨.

| 축제명 | 긍정 문장 수 | 부정 문장 수 | 긍정 비율 (%) |
| :--- | :--- | :--- | :--- |
| K-핸드메이드페어 | 22 | 12 | 64.7 |
| 국제명상대전(...) | 27 | 6 | 81.8 |
| 수원화성의 비밀 | 20 | 22 | 47.6 |
| 제주올레길축전 | 16 | 6 | 72.7 |

#### 7-3. 분석결과 예시 2: 개최 시점별 관심도 변화 (Line Chart)
* **축제명:** 렛츠런파크 서울 가을야간경마 별밤마중 Festival
* **분석:** TrendAPI를 사용한 시계열 분석(X축: 날짜, Y축: 검색량) 결과, 개최 1주일 뒤(9월 14일) 검색량이 정점을 기록. 이는 **행사 시작 대비 913%의 관심 상승률**을 나타냄.
* 종료 후에도 71.6%의 검색량 유지율을 보여 단발성 관심이 아닌, '지속형 야간 콘텐츠형 축제'로 해석됨.

#### 7-4. 분석결과 예시 3: 계절별 검색 인기 (Word Cloud)
* **봄 시즌:** '양평산수유한우축제'가 가장 크게 자리하며, '산수유-한우-보리-도자기' 등 전통과 지역성 키워드가 '농촌체험형'으로 해석됨.
* **여름 시즌:** '연화축제', '설렘의빛축제'가 크게 표현됨. '자연 감성 + 지역 로컬푸드'가 결합되어 '물놀이형', '빛-연화-수박' 등 감성 콘텐츠 중심.
* **가을 시즌:** '외솔한글한마당'이 가장 눈에 띄며, '한글-빛-숲' 키워드가 '문화·예술·자연 체험형'으로 공존함. '감성적 몰입 + 자연 체험형' 구조.
* **겨울 시즌:** '여수향일암일출축제'가 가장 큰 중심 글씨. '해돋이-빙어-곶감' 등 계절성 + '관광형' 키워드가 결합.

**전체 요약:** 사계절 워드클라우드는 단순 축제명 빈도가 아닌, 각 계절의 축제 형태가 어떤 언어적 의미 패턴으로 인식되는지 보여줌. (봄: 자연과 전통, 여름: 감성과 체험, 가을: 문화와 여유, 겨울: 따뜻한 여행)

#### 7-5. 분석결과 예시 4: 축제별 불만 요인 (강릉커피축제)
* **전체 감성 비율:** 긍정 60.6%, 부정 39.4%
* **분석:** 생성된 도넛 차트는 긍정 비율 60.6%, 부정 비율 39.4%를 보여줌.
* **해석:** 긍정 여론이 과반을 차지하여 축제의 기본적인 매력은 입증되었으나, 10명 중 4명은 부정적 경험을 하고 있다는 의미이기도 함. 이는 개선점을 찾아낸다면 전반적인 만족도를 크게 끌어올릴 잠재력이 매우 높다는 것을 시사함.
* **부정 감성의 원인 (데이터 기반 요약):**
    * **분석:** 차트의 부정 감성 비율(39.4%)을 유발한 핵심 원인은 CSV 데이터에 요약된 바와 같이 '과도한 인파와 교통 체증' 및 '미흡한 현장 운영'에 집중됨.
    * **주요 불만 사항 (요약):**
        1.  과도한 인파로 인한 이동 불편, 안전 문제 및 주차 혼잡
        2.  일부 프로그램 체험 부스 참여 제한
        3.  커피 관련 콘텐츠 부족, 부스별 특색 없음
        4.  쓰레기통, 화장실, 휴게 공간 등 편의시설 부족 및 관리 미흡
        5.  예상보다 더운 날씨에 대한 대비 부족

---

### 8. 결과 해석 및 서비스 적용 방안

1.  긍정도가 상위 축제는 AI 모델의 '추천 축제' 탭으로 연결한다.
2.  부정어가 감지된 항목은 '개선 필요 축제'로 분류하여 서비스 개선 방향에 반영한다.

### 9. 예상 성과 및 활용 방안

#### 9-1. 성과 지표
* 감성어 추출 및 분류 정확도 **85%** 이상 달성
* 축제 테마별 평균 감성지수 및 만족도 지표 자동 산출
* 개최 시점별(Pre/During/Post) 관심도 변화 비교 시각화
* 후기 기반 불만 요인 자동 추출 정확도 **80%** 이상
* 사용자 후기 데이터 기반 기대 만족도 향상 모델 구축

#### 9-2. 분석결과 활용 방안
* AI 모델 앱 서비스에 통합되어 사용자에게 맞춤형 축제 추천 기능 제공
* 지자체 및 관광공사의 홍보 전략 수립과 만족도 개선 자료로 활용
* 지역·시즌별 인기 행사 유형 및 불만 요인 도출 결과를 정책 기획 및 예산 편성 근거로 활용
* 공공데이터(TourAPI, TrendAPI)와 비정형 데이터(블로그 후기) 융합 사례로서 스마트관광 산업 데이터 모델 제시
* 향후 스마트시티·문화·축제기획 분야로 확산 가능한 관광 데이터 활용 사례로 발전

### 10. 기타 (Github, Demo)

* **Github:** `https://github.com/ericyum/GradioNaverSentiment`

### 11. 활용 데이터 샘플 다운로드

* **데이터 테이블 컬럼 정의:** `Festival_Data_Column_Definition_Updated.csv [1KB]`
* **데이터 템플릿(예시):** `Festival_Data_Usage_Guide.csv [1KB]`